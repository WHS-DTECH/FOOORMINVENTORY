<script>
function switchShoplistView(view) {
	const weekNav = document.getElementById('weekNav');
	const weekBtn = document.getElementById('weekViewBtn');
	const monthBtn = document.getElementById('monthViewBtn');
	if (view === 'week') {
		weekNav.style.display = '';
		weekBtn.classList.add('active');
		monthBtn.classList.remove('active');
		document.getElementById('weekPeriodView').style.display = '';
		document.getElementById('monthCalendarView').style.display = 'none';
	} else {
		weekNav.style.display = 'none';
		weekBtn.classList.remove('active');
		monthBtn.classList.add('active');
		document.getElementById('weekPeriodView').style.display = 'none';
		document.getElementById('monthCalendarView').style.display = '';
	}
}
// Ensure correct initial state on page load
window.addEventListener('DOMContentLoaded', function() {
	if (document.getElementById('monthViewBtn').classList.contains('active')) {
		switchShoplistView('month');
	} else {
		switchShoplistView('week');
	}
});
</script>
	<div id="weekNav" class="week-nav no-print" style="margin: 8px 0 8px 0; font-size: 1.15em; font-weight: bold; display: flex; flex-direction: column; align-items: center;">
		<div id="weekRangeLabel">{{ week_label | format_nz_week }}</div>
		<div style="display: flex; justify-content: center; gap: 12px; margin-bottom: 8px; margin-top: 8px;">
			<form method="get" style="margin: 0;">
				<button type="submit" name="week" value="{{ prev_week }}">&#8592; Previous</button>
			</form>
			<form method="get" style="margin: 0;">
				<button type="submit" name="week" value="0">Today</button>
			</form>
			<form method="get" style="margin: 0;">
				<button type="submit" name="week" value="{{ next_week }}">Next &#8594;</button>
			</form>
		</div>
	</div>
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Book the Shopping</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
	<body style="background: #f6f8fa;">
	<!-- ...rest of template content... -->
	<!-- (Full template content from original shoplist.html goes here) -->
</body>
</html>