{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <h2>Recipe Source</h2>
    <div class="card mt-3">
        <div class="card-body">
            <h5 class="card-title">{{ recipe.name }}</h5>
            <p><strong>Upload Method:</strong> {{ recipe.upload_method or 'N/A' }}</p>
            <p><strong>Source URL:</strong> <a href="{{ recipe.source_url }}" target="_blank">{{ recipe.source_url }}</a></p>
                <a href="{{ url_for('view_raw_upload') }}?source={{ recipe.source_url }}" class="btn btn-dark btn-sm mb-3">View Raw Extracted Data</a>
            <a href="{{ url_for('url_upload') }}?url={{ recipe.source_url }}" class="btn btn-warning btn-sm mb-3 ms-2">Parser Debug</a>
            <p><strong>Uploaded By:</strong> {{ recipe.uploaded_by or 'N/A' }}</p>
            <p><strong>Upload Date:</strong> {{ recipe.upload_date|datetimeformat('%Y-%m-%d %I:%M %p') if recipe.upload_date else 'N/A' }}</p>
            <hr>
            <p><strong>Source Details</strong></p>
            <div>
                {{ recipe.source or 'None' }}
            </div>
            <a href="{{ url_for('view_raw_upload') }}?source={{ recipe.source_url }}" class="btn btn-dark mt-2 me-2">View Raw Extracted Data</a>
            <a href="{{ url_for('recipe_details', recipe_id=request.view_args['recipe_id']) }}" class="btn btn-secondary mt-2">Back to Recipe</a>
        </div>
    </div>
</div>
{% endblock %}
