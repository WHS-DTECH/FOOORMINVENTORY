<!DOCTYPE html>

<html lang="en">

<head>

<!-- admin.html-->

<meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Admin - Upload Staff CSV</title>

<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />

</head>

<body>

<nav class="navbar">
  <div class="nav-left">
    <a href="/" class="nav-brand">üç≥ Food Room</a> |
    <a href="/recipes">Recipes</a> |
    <a href="/recbk">Recipe Book</a> |
    <a href="/class_ingredients">Class Ingredients</a> |
    <a href="/booking">Booking Calendar</a> |
    <a href="/shoplist">Shopping List</a> |
    <a href="/admin">Admin</a>
  </div>
  <div class="nav-right">
    {% if current_user.is_authenticated %}
      <span class="user-info">{{ current_user.name }}<span class="badge badge-{{ current_user.role }}">{{ current_user.role }}</span></span> | <a href="/logout" class="logout-link">Logout</a>
    {% else %}
      <a href="/login" class="login-link">Login</a>
    {% endif %}
  </div>
</nav>

<h2>Admin: Upload Staff CSV</h2>

{% with messages = get_flashed_messages() %} 
{% if messages %} 
<div class="flash"> 
  {% for message in messages %} 
  <p>{{ message }}</p> 
  {% endfor %} 
</div> 
{% endif %} 
{% endwith %}

<form method="POST" enctype="multipart/form-data"> <label for="staff_csv">Select CSV file:</label><br> <input type="file" id="staff_csv" name="staff_csv" accept=".csv" required><br><br> <button type="submit">Upload</button> </form>

{% if preview_data %} <h3>Preview of Uploaded Data</h3> <table> <thead> <tr> {% for key in preview_data[0].keys() %} <th>{{ key }}</th> {% endfor %} </tr> </thead> <tbody> {% for row in preview_data %} <tr> {% for value in row.values() %} <td>{{ value }}</td> {% endfor %} </tr> {% endfor %} </tbody> </table> {% endif %}

<h2>Admin: Upload Class CSV</h2>

{% with messages = get_flashed_messages() %} {% if messages %} 
<div class="flash"> {% for message in messages %} 
  <p>{{ message }}</p> {% endfor %} </div> {% endif %} {% endwith %}

<form action="/uploadclass" method="post" enctype="multipart/form-data"> 
  <label for="csvfile">Choose CSV file to upload:</label> 
  <input type="file" id="csvfile" name="csvfile" accept=".csv"> 
  <input type="submit" value="Upload"> </form>

{% if preview_data %} <h3>Preview of Uploaded Data</h3> 
<table> 
  <thead> 
    <tr> {% for key in preview_data[0].keys() %} 
      <th>{{ key }}</th> 
      {% endfor %} 
    </tr> 
  </thead> 
  <tbody> {% for row in preview_data %} 
    <tr> {% for value in row.values() %} 
      <td>{{ value }}</td> 
      {% endfor %} </tr> 
      {% endfor %} </tbody> 
    </table> {% endif %}

</body>

</html>